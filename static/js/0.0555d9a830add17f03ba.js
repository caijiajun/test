webpackJsonp([0],{956:function(e,t,s){s(985);var a=s(27)(s(967),s(999),null,null);e.exports=a.exports},957:function(e,t,s){"use strict";function a(e,t){for(var t=t-(e+"").length,s=0;s<t;s++)e="0"+e;return e}var i=/([yMdhsm])(\1*)/g;t.a={getQueryStringByName:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),s=window.location.search.substr(1).match(t),a="";return null!=s&&(a=s[2]),t=null,s=null,null==a||""==a||"undefined"==a?"":a},formatDate:{format:function(e,t){return t=t||"yyyy-MM-dd",t.replace(i,function(t){switch(t.charAt(0)){case"y":return a(e.getFullYear(),t.length);case"M":return a(e.getMonth()+1,t.length);case"d":return a(e.getDate(),t.length);case"w":return e.getDay()+1;case"h":return a(e.getHours(),t.length);case"m":return a(e.getMinutes(),t.length);case"s":return a(e.getSeconds(),t.length)}})},parse:function(e,t){var s=t.match(i),a=e.match(/(\d)+/g);if(s.length==a.length){for(var l=new Date(1970,0,1),o=0;o<s.length;o++){var n=parseInt(a[o]);switch(s[o].charAt(0)){case"y":l.setFullYear(n);break;case"M":l.setMonth(n-1);break;case"d":l.setDate(n);break;case"h":l.setHours(n);break;case"m":l.setMinutes(n);break;case"s":l.setSeconds(n)}}return l}return null}}}},967:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(318),i=s.n(a),l=s(196),o=s(91),n=(s.n(o),s(957));t.default={data:function(){return{schoolList:[{name:"深圳中学",id:"S_1001",address:"深圳市罗湖区深中街18号",time:"2011-11-11",status:"1",classList:"",teacherList:""}],options:l.a,obj:{0:"null",1:"null",2:"null"},selectedOptions:[],filters:{name:""},loading_1:!1,showList:[],page_size:10,currentPage:"",star:0,end:9,addSchool:{name:"",address:"",status:1,id:"",type:""},addFormVisible:!1,editFormRules:{name:[{required:!1,message:"请输入姓名",trigger:"blur"}]},dialogVisible:!1,editForm:{id:"",create_at:""}}},methods:{dizhiChange:function(e){},onCheckClassList:function(e){console.log(e.id),e&&e.id?this.$router.push({path:"/school/classList",query:{id:e.id}}):this.$message({showClose:!0,message:"ID跑哪去了？",type:"error"})},handleEdit:function(e,t){this.dialogVisible=!0,this.editForm=i()({},t),console.log(this.editForm)},tableType:function(e,t){return 0==e.type?"小学":1==e.type?"中学":"大学"},tableStatus:function(e,t){return 1==e.status?"启用":0==e.status?"屏蔽":"未定义"},editSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&e.$confirm("确认提交吗？","提示",{}).then(function(){var t=i()({},e.editForm);t.time=t.time&&""!=t.time?n.a.formatDate.format(new Date(t.time),"yyyy-MM-dd"):"",console.log(t.time),console.log(t),e.dialogVisible=!1})})},handleDel:function(e,t){this.$confirm("确认删除该记录吗?","提示",{type:"warning"})},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},pagingSizeChange:function(e){console.log("每页 "+e+" 条"),this.page_size=e,this.star=(this.currentPage-1)*this.page_size,this.end=this.star+this.page_size,this.showList=this.schoolList.slice(this.star,this.end)},pagingCurrentChange:function(e){console.log("当前页: "+e),this.currentPage=e,this.star=(e-1)*this.page_size,this.end=this.star+this.page_size,this.showList=this.schoolList.slice(this.star,this.end)}},mounted:function(){this.schoolList=[{name:"深圳中学",id:"S_1001",address:"深圳市罗湖区深中街18号",time:"2017-11-11",status:"1",type:"1",classList:"",teacherList:""},{name:"深圳中学",id:"S_1001",address:"深圳市罗湖区深中街18号",time:"2011-11-11",type:"1",status:"0",classList:"",teacherList:""},{name:"深圳中学",id:"S_1001",address:"深圳市罗湖区深中街18号",time:"2011-11-11",status:"0",type:"2",classList:"",teacherList:""},{name:"深圳中学",id:"S_1001",address:"深圳市罗湖区深中街18号",time:"2011-11-11",status:"1",type:"2",classList:"",teacherList:""},{name:"深圳中学",id:"S_1001",address:"深圳市罗湖区深中街18号",time:"2011-11-11",type:"2",status:"0",classList:"",teacherList:""},{name:"深圳中学",id:"S_1001",address:"深圳市罗湖区深中街18号",time:"2011-11-11",status:"1",type:"2",classList:"",teacherList:""},{name:"深圳中学",id:"S_1001",address:"深圳市罗湖区深中街18号",time:"2011-11-11",type:"2",status:"0",classList:"",teacherList:""},{name:"深圳中学",id:"S_1001",address:"深圳市罗湖区深中街18号",time:"2017-11-11",status:"1",type:"1",classList:"",teacherList:""},{name:"深圳中学",id:"S_1001",address:"深圳市罗湖区深中街18号",time:"2011-11-11",type:"1",status:"0",classList:"",teacherList:""},{name:"深圳中学",id:"S_1001",address:"深圳市罗湖区深中街18号",time:"2011-11-11",status:"0",type:"2",classList:"",teacherList:""},{name:"深圳中学",id:"S_1001",address:"深圳市罗湖区深中街18号",time:"2011-11-11",status:"1",type:"2",classList:"",teacherList:""},{name:"深圳中学",id:"S_1001",address:"深圳市罗湖区深中街18号",time:"2011-11-11",type:"2",status:"0",classList:"",teacherList:""},{name:"深圳中学",id:"S_1001",address:"深圳市罗湖区深中街18号",time:"2011-11-11",status:"1",type:"2",classList:"",teacherList:""},{name:"深圳中学",id:"S_1001",address:"深圳市罗湖区深中街18号",time:"2011-11-11",type:"2",status:"0",classList:"",teacherList:""}],this.showList=this.schoolList.slice(this.star,this.end)}}},976:function(e,t,s){t=e.exports=s(941)(!0),t.push([e.i,".block .toolbar{margin:10px 0;padding:20px 0;height:40px;width:100%;background-color:#f2f2f2}.el-table__body-wrapper table tr td,.el-table__header-wrapper table th{text-align:center}","",{version:3,sources:["C:/wamp/www/jun/my-project/src/page/userManage/school.vue"],names:[],mappings:"AACA,gBACE,cAAe,AACf,eAAkB,AAClB,YAAa,AACb,WAAY,AACZ,wBAA0B,CAC3B,AAID,uEACE,iBAAmB,CACpB",file:"school.vue",sourcesContent:["\n.block .toolbar {\n  margin: 10px 0;\n  padding: 20px 0px;\n  height: 40px;\n  width: 100%;\n  background-color: #f2f2f2;\n}\n.el-table__header-wrapper table th {\n  text-align: center;\n}\n.el-table__body-wrapper table tr td {\n  text-align: center;\n}\n"],sourceRoot:""}])},985:function(e,t,s){var a=s(976);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s(942)("1e514531",a,!0)},999:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"block"},[s("div",{staticClass:"toolbar"},[s("el-col",{attrs:{span:4}},[s("el-cascader",{attrs:{placeholder:"省/市/区","change-on-select":"",options:e.options},on:{change:e.dizhiChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("el-cascader",{attrs:{placeholder:"小学","change-on-select":"",options:e.options},on:{change:e.dizhiChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("el-cascader",{attrs:{placeholder:"启用","change-on-select":"",options:e.options},on:{change:e.dizhiChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),e._v(" "),s("el-col",{attrs:{span:4}},[s("el-cascader",{attrs:{placeholder:"输入编号和名称","change-on-select":"",options:e.options},on:{change:e.dizhiChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-button",{attrs:{type:"primary",size:"large"},nativeOn:{click:function(t){e.addFormVisible=!0}}},[e._v("新增学校")]),e._v(" "),s("el-button",{attrs:{type:"primary"}},[e._v("导入")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"}},[e._v("导出")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("超小按钮")])],1)],1),e._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_1,expression:"loading_1"}],staticStyle:{width:"100%","text-align":"left"},attrs:{"highlight-current-row":"","element-loading-text":"拼命加载中",data:e.showList}},[s("el-table-column",{attrs:{prop:"name",label:"学校名称",width:"150"}}),e._v(" "),s("el-table-column",{attrs:{label:"学校编号",prop:"id",width:"150"}}),e._v(" "),s("el-table-column",{attrs:{label:"类型",formatter:e.tableType,prop:"type",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{label:"创建时间",prop:"time",width:"180",sortable:""}}),e._v(" "),s("el-table-column",{attrs:{label:"状态",prop:"status",formatter:e.tableStatus,width:"100",sortable:""}}),e._v(" "),s("el-table-column",{attrs:{label:"地址",prop:"address","min-width":"250"}}),e._v(" "),s("el-table-column",{attrs:{label:"班级列表",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"small"},on:{click:function(s){e.onCheckClassList(t.row)}}},[e._v("查看")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"教师列表",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"small"}},[e._v("查看")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){e.handleEdit(t.$index,t.row)}}},[e._v("修改")]),e._v(" "),s("el-button",{attrs:{size:"small"}},[e._v("屏蔽")]),e._v(" "),s("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(s){e.handleDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),s("el-dialog",{attrs:{title:"学校信息修改","close-on-click-modal":!1},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[s("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[s("el-form-item",{attrs:{label:"学校名称",prop:"name"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.editForm.name=t},expression:"editForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"学校编号",prop:"id"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.id,callback:function(t){e.editForm.id=t},expression:"editForm.id"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"学校地址"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.editForm.address,callback:function(t){e.editForm.address=t},expression:"editForm.address"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"创建时间",prop:"time"}},[s("el-date-picker",{attrs:{format:"",type:"date",placeholder:"选择时间"},model:{value:e.editForm.time,callback:function(t){e.editForm.time=t},expression:"editForm.time"}})],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{plain:!0,type:"info"},nativeOn:{click:function(t){e.editSubmit(t)}}},[e._v("确 定")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"添加学校","close-on-click-modal":!1},model:{value:e.addFormVisible,callback:function(t){e.addFormVisible=t},expression:"addFormVisible"}},[s("el-form",{attrs:{model:e.addSchool,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"学校地址"}},[s("el-cascader",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"省/市/区","change-on-select":"",options:e.options},on:{change:e.dizhiChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}}),e._v(" "),s("el-input",{attrs:{placeholder:"详细地址"},model:{value:e.addSchool.address,callback:function(t){e.addSchool.address=t},expression:"addSchool.address"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"学校编号",prop:"id"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addSchool.id,callback:function(t){e.addSchool.id=t},expression:"addSchool.id"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"学校名称",prop:"name"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addSchool.name,callback:function(t){e.addSchool.name=t},expression:"addSchool.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"学校类型",prop:"type"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:e.addSchool.type,callback:function(t){e.addSchool.type=t},expression:"addSchool.type"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"状态"}},[s("el-radio-group",{model:{value:e.addSchool.status,callback:function(t){e.addSchool.status=t},expression:"addSchool.status"}},[s("el-radio",{staticClass:"radio",attrs:{label:1}},[e._v("启用")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:0}},[e._v("禁用")])],1)],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",slot:"footer"},[s("el-button",{nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.addFormVisible=!1}}},[e._v("提交")])],1)],1),e._v(" "),s("div",{staticClass:"block"},[s("span",{staticClass:"demonstration"},[e._v("完整功能")]),e._v(" "),s("el-pagination",{attrs:{"page-sizes":[5,10,15,20],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.schoolList.length},on:{"size-change":e.pagingSizeChange,"current-change":e.pagingCurrentChange}})],1),e._v(" "),s("router-view")],1)},staticRenderFns:[]}}});
//# sourceMappingURL=0.0555d9a830add17f03ba.js.map